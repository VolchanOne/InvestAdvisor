@using InvestAdvisor.Common.Enums
@using InvestAdvisor.Model
@model PaymentSystemModel

@{
    var logoImage = Model.Images.FirstOrDefault(i => i.ImageType == ImageType.Icon);
    var isList = ViewBag.IsList == null || ViewBag.IsList;
}

<div class="card text-center">
    <div class="card-body">

        @if (logoImage != null)
        {
            <img src="data:image;base64,@Convert.ToBase64String(logoImage.Content)" class="img-circle border" width="150" />
        }
        <h4 class="card-title m-t-10">@Model.Name</h4>
        <h6 class="card-subtitle"><a href="@Model.Url">@Model.Address</a></h6>

        @if (!isList)
        {
            if (Model.Currencies != null && Model.Currencies.Count > 0)
            {
                <p>Валюты: @string.Join(", ", Model.Currencies.Select(c => c.Abbreviation.ToString()))</p>
            }
        }
        else
        {
            <a href="/PaymentSystem/Details/@Model.RouteName" class="m-t-10 waves-effect waves-light btn btn-info btn-md btn-rounded">Подробнее</a>
        }
    </div>
</div>